<!DOCTYPE html>
<html>

<head>
    <title>Aeko</title>
    <meta name="description" content="Automatically loads gmeet according to the schedule.">
    <meta name="author" content="Mislah">
</head>

<body onload=reDirect()>
    <script>
        var data = {
            "link": {
                "CS201": "dl6u4vjqq6",
                "CS202": "buf5l62wds",
                "CS203": "gru5xvibi3",
                "CS211": "dl6u4vjqq6",
                "CS212": "czwhyjyyik",
                "EC201": "ejv6wuetpb",
                "EC211": "cwmewxfeur",
                "HU201": "cilslrnotz"
            },
            "table": [
                [
                    { "t": [750, 850], "l": "CS203" },
                    { "t": [850, 1050], "l": "HU201" },
                    { "t": [1050, 1300], "l": "CS202" },
                    { "t": [1350, 1700], "l": "CS212" }
                ],
                [
                    { "t": [950, 1150], "l": "CS201" },
                    { "t": [1150, 1300], "l": "EC201" },
                    { "t": [1350, 1650], "l": "EC211" },
                    { "t": [1650, 1800], "l": "CS203" }
                ],
                [
                    { "t": [850, 950], "l": "HU201" },
                    { "t": [1050, 1300], "l": "CS203" },
                    { "t": [1350, 1600], "l": "EC201" }
                ],
                [
                    { "t": [850, 1050], "l": "CS201" },
                    { "t": [1050, 1300], "l": "CS202" },
                    { "t": [1350, 1700], "l": "CS211" }
                ]
            ]
        };
        function reDirect() {
            document.title = "Loading..";
            var date = new Date();
            var time = date.getHours() * 100 + date.getMinutes();
            var tday = data.table[date.getDay() - 2];
            var flag = false;
            for (i in tday) {
                if (time >= tday[i].t[0] && time <= tday[i].t[1]) {
                    location.replace("https://meet.google.com/lookup/" + data.link[tday[i].l]);
                    flag = true;
                    break;
                }
            }
            if(!flag){
                location.replace("");
                window.close();
            }
        }
    </script>
</body>

</html>
