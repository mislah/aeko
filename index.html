<!DOCTYPE html>
<html>

<head>
    <title>Aeko</title>
    <meta name="description" content="Automatically loads gmeet according to the schedule.">
    <meta name="author" content="Mislah">
</head>

<body onload=reDirect()>
    <script>
        var data = {
            "link": {
                "CS301": "",
                "CS302": "",
                "CS303": "",
                "CS311": "",
                "CS312": "",
                "CS313": "",
                "MA301": "",
                "HU301": ""
            },
            "table": [
                [
                    { "t": [850, 1000], "l": "HU301" },
                    { "t": [1350, 1700], "l": "CS313" }
                ],
                [
                    { "t": [950, 1050], "l": "CS302" },
                    { "t": [1050, 1300], "l": "MA301" },
                    { "t": [1350, 1700], "l": "CS312" }
                ],
                [
                    { "t": [850, 1100], "l": "CS301" },
                    { "t": [1150, 1300], "l": "CS302" },
                    { "t": [1350, 1700], "l": "CS311" }
                ],
                [
                    { "t": [850, 1100], "l": "HU301" },
                    { "t": [1150, 1300], "l": "CS301" },
                    { "t": [1450, 1700], "l": "CS303" }
                ],
                [
                    { "t": [950, 1200], "l": "MA301" },
                    { "t": [1350, 1550], "l": "CS303" },
                    { "t": [1550, 1800], "l": "CS302" }
                ]
            ]
        };
        function reDirect() {
            document.title = "Loading..";
            var date = new Date();
            var time = date.getHours() * 100 + date.getMinutes();
            var tday = data.table[date.getDay() - 1];
            var flag = false;
            for (i in tday) {
                if (time >= tday[i].t[0] && time <= tday[i].t[1]) {
                    location.replace("https://meet.google.com/lookup/" + data.link[tday[i].l]);
                    flag = true;
                    break;
                }
            }
            if(!flag){
                location.replace("");
                window.close();
            }
        }
    </script>
</body>

</html>
